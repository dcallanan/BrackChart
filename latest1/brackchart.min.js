var BrackChart_gl_WIDTH=230,BrackChart_gl_HEIGHT=130,BrackChart_gl_XSPACING=60,BrackChart_gl_YSPACING=30,BrackChart_gl_LINEW=1,BrackChart_gl_WRAPPERPADDING=!0;function BrackChartConfig(){this.width=230,this.height=130,this.paddingX=60,this.paddingY=30,this.lineWidth=1,this.chartHasMargin=!0}BrackChartConfig.prototype.setMatchWidth=function(a){this.width=a},BrackChartConfig.prototype.setMatchHeight=function(a){this.height=a},BrackChartConfig.prototype.setPaddingX=function(a){this.paddingX=a},BrackChartConfig.prototype.setPaddingY=function(a){this.paddingY=a},BrackChartConfig.prototype.setLineWidth=function(a){this.lineWidth=a},BrackChartConfig.prototype.setChartHasMargin=function(a){this.chartHasMargin=!(!0!=a)||!(a!==void 0),console.log(this.chartHasMargin)},BrackChartConfig.prototype.use=function(){BrackChart_gl_WIDTH=this.width,BrackChart_gl_HEIGHT=this.height,BrackChart_gl_XSPACING=this.paddingX,BrackChart_gl_YSPACING=this.paddingY,BrackChart_gl_LINEW=this.lineWidth,BrackChart_gl_WRAPPERPADDING=this.chartHasMargin};var BrackChart_gl_FLAGS;function BrackChart(a,b){this.rounds=this.createRounds(b),this.element=document.querySelector(a),this.element.classList.add("BrackChart_wrapper"),BrackChart_gl_WRAPPERPADDING&&(this.element.style.marginLeft=BrackChart_gl_XSPACING+"px",this.element.style.marginTop=2*BrackChart_gl_YSPACING+"px",this.element.style.marginBottom=BrackChart_gl_YSPACING+"px"),this.element.style.width=this.rounds.length*(BrackChart_gl_WIDTH+BrackChart_gl_XSPACING)+"px"}BrackChart.prototype.setFlags=function(a){BrackChart_gl_FLAGS=a},BrackChart.prototype.showTitles=function(a){for(let[c,d]of a.entries()){var b=document.createElement("div");b.classList.add("BrackChart_title"),b.innerText=d,b.style.top=-2*BrackChart_gl_YSPACING+"px",b.style.left=(BrackChart_gl_WIDTH+BrackChart_gl_XSPACING)*c+"px",this.element.appendChild(b)}},BrackChart.prototype.useConfig=function(a){this.config=a},BrackChart.prototype.createRounds=function(a){var b=null,c=[];for(let e of a){var d=new BrackChartRound;d.setParent(b),d.createFromData(e),b=d,c.push(d)}return c},BrackChart.prototype.updateMatchDimensions=function(){var a=0;for(let[b,c]of this.rounds.entries())for(let[d,e]of c.matches.entries())e.x=b*(BrackChart_gl_WIDTH+BrackChart_gl_XSPACING),e.y=e.hasParents()?(e.parent1.y+e.parent2.y)/2:0==d?0:c.matches[d-1].y+BrackChart_gl_HEIGHT+BrackChart_gl_YSPACING,e.width=BrackChart_gl_WIDTH,e.height=BrackChart_gl_HEIGHT,e.y>a&&(a=e.y);this.element.style.height=a+BrackChart_gl_HEIGHT+"px"},BrackChart.prototype.createChart=function(){this.config!==void 0&&this.config.use(),this.updateMatchDimensions(),this.rounds.forEach(a=>this.generateRound(a))},BrackChart.prototype.generateRound=function(a){var b=a.matches;b.forEach(c=>{this.drawMatchBox(c),this.drawMatchBoxLines(c)})},BrackChart.prototype.drawMatchBox=function(a){var b=document.createElement("div");if(b.classList.add("BrackChart_match"),b.style.width=a.width+"px",b.style.height=a.height+"px",b.style.left=a.x+"px",b.style.top=a.y+"px",void 0!==a.data.prev&&!1!=a.data.prev){b.classList.add("prev");var c=document.createElement("div");c.style.left=a.x+"px",c.style.top=a.y+BrackChart_gl_HEIGHT+5+"px",c.classList.add("BrackChart_bubble"),c.innerText=a.data.prev,b.onmouseenter=()=>c.classList.add("visible"),b.onmouseleave=()=>c.classList.remove("visible"),this.element.appendChild(c)}var d=this.drawMatchBoxScores(a);if(b.appendChild(d),void 0!==a.data["more-info"]&&0<a.data["more-info"].length){var e=this.drawMatchBoxInfo(a);b.appendChild(e),e.style.transform="translateX(100%) translateY(-"+a.height+"px)",d.querySelector(".BrackChart_button").onclick=function(){d.classList.add("hidden"),e.style.transform="translateX(0%) translateY(-"+a.height+"px)"},e.querySelector(".BrackChart_back").onclick=function(){d.classList.remove("hidden"),e.style.transform="translateX(100%) translateY(-"+a.height+"px)"}}this.element.appendChild(b)},BrackChart.prototype.drawMatchBoxScores=function(a){var b=document.createElement("div");return b.classList.add("BrackChart_scores"),b.appendChild(this.createMatchBoxTeam(a.team1,a.score1,a.isTeam1Winner)),b.appendChild(this.createMatchBoxInfo(a)),b.appendChild(this.createMatchBoxTeam(a.team2,a.score2,a.isTeam2Winner)),b},BrackChart.prototype.drawMatchBoxInfo=function(a){var b=document.createElement("div");if(b.classList.add("BrackChart_info"),void 0!==a.data["more-info"])for(var c of a.data["more-info"])b.appendChild(this.createMoreInfoText(c));var d=document.createElement("back");return d.classList.add("BrackChart_back"),d.innerHTML="BACK",d.style.top=BrackChart_gl_HEIGHT-35+"px",d.style.width=BrackChart_gl_WIDTH+"px",d.onmousedown=()=>d.classList.add("active"),d.addEventListener("transitionend",()=>d.classList.remove("active")),d.addEventListener("webkitTransitionEnd",()=>d.classList.remove("active")),b.appendChild(d),b},BrackChart.prototype.createMoreInfoText=function(a){var b=document.createElement("div");return b.classList.add("BrackChart_moreInfoText"),b.innerText=a,b},BrackChart.prototype.createMatchBoxTeam=function(a,b,c){var d=document.createElement("div");d.classList.add("BrackChart_team"),!0==c&&d.classList.add("BrackChart_winner"),!1==c&&d.classList.add("BrackChart_loser");var e=BrackChart_gl_FLAGS[a];if(!e){var n=document.createElement("div");n.classList.add("BrackChart_flag"),n.style.backgroundColor="#444",n.style.width="50px",d.appendChild(n)}else if(Array.isArray(e)){for(var f of e){var g=document.createElement("div");g.classList.add("BrackChart_flag"),g.style.backgroundColor="#"+f,g.style.width=48/e.length+"px",d.appendChild(g)}var h=e[e.length-1];if("ffffff"==h){var j=document.createElement("div");j.classList.add("BrackChart_flag"),j.style.backgroundColor="#"+h,j.style.width="1px",d.appendChild(j);var k=document.createElement("div");k.classList.add("BrackChart_flag"),k.style.backgroundColor="#ccc",k.style.width="1px",d.appendChild(k)}else{var l=document.createElement("div");l.classList.add("BrackChart_flag"),l.style.backgroundColor="#"+h,l.style.width="2px",d.appendChild(l)}}else{console.log("img");var m=document.createElement("img");m.src=e,m.style.width="50px",m.style.height="45px",d.appendChild(m)}var o=document.createElement("div");o.classList.add("BrackChart_teamName"),o.innerHTML=a;var p=document.createElement("div");return p.classList.add("BrackChart_teamScore"),p.innerHTML=b,d.appendChild(o),d.appendChild(p),d},BrackChart.prototype.createMatchBoxInfo=function(a){var b=document.createElement("div");b.classList.add("BrackChart_info");var c=document.createElement("div");c.classList.add("BrackChart_time"),c.innerHTML=a.data.time;var d=document.createElement("div");d.classList.add("BrackChart_date"),d.innerHTML=a.data.date,b.appendChild(c),b.appendChild(d);var e=document.createElement("div");return e.classList.add("BrackChart_button"),e.innerHTML="MORE INFO",b.appendChild(e),void 0!==a.data["more-info"]&&0<a.data["more-info"].length?(e.onmousedown=()=>e.classList.add("active"),e.addEventListener("webkitTransitionEnd",()=>e.classList.remove("active")),e.addEventListener("transitionend",()=>e.classList.remove("active"))):(e.classList.add("hidden"),e.style.cursor="default"),b},BrackChart.prototype.drawMatchBoxLines=function(a){if(a.hasParents()){var b=1==a.parent1.winner?-BrackChart_gl_HEIGHT/3:2==a.parent1.winner?+BrackChart_gl_HEIGHT/3:0,c=1==a.parent2.winner?-BrackChart_gl_HEIGHT/3:2==a.parent2.winner?+BrackChart_gl_HEIGHT/3:0;a.parent1.data.loserWins&&(b*=-1),a.parent2.data.loserWins&&(c*=-1),this.drawLineY(a.x-BrackChart_gl_XSPACING/2,a.parent1.y+BrackChart_gl_HEIGHT/2+b,a.parent2.y+BrackChart_gl_HEIGHT/2+c),this.drawLineX(a.parent1.x+BrackChart_gl_WIDTH,a.x-BrackChart_gl_XSPACING/2,a.parent1.y+b+BrackChart_gl_HEIGHT/2),this.drawLineX(a.parent2.x+BrackChart_gl_WIDTH,a.x-BrackChart_gl_XSPACING/2,a.parent2.y+c+BrackChart_gl_HEIGHT/2),this.drawLineX(a.x-BrackChart_gl_XSPACING/2,a.x,a.y+BrackChart_gl_HEIGHT/2)}},BrackChart.prototype.drawLineY=function(a,b,c){var e=document.createElement("div");e.classList.add("BrackChart_line"),e.style.top=b+"px",e.style.left=a-BrackChart_gl_LINEW/2+"px",e.style.width=BrackChart_gl_LINEW+"px",e.style.height=c-b+"px",this.element.appendChild(e)},BrackChart.prototype.drawLineX=function(a,b,c){var e=document.createElement("div");e.classList.add("BrackChart_line"),e.style.top=c-BrackChart_gl_LINEW/2+"px",e.style.left=a+"px",e.style.width=b-a+"px",e.style.height=BrackChart_gl_LINEW+"px",this.element.appendChild(e)};function BrackChartMatch(){this.parent1=null,this.parent2=null,this.data={}}BrackChartMatch.prototype.setTeams=function(a,b){this.team1=a,this.team2=b},BrackChartMatch.prototype.setScores=function(a,b){this.score1=a,this.score2=b},BrackChartMatch.prototype.setWinner=function(a){this.winner=a,null==a?(this.winnerName=null,this.isTeam1Winner=null,this.isTeam2Winner=null):(this.winnerName=this["team"+a],this.isTeam1Winner=1==a,this.isTeam2Winner=2==a)},BrackChartMatch.prototype.setParents=function(a,b){this.parent1=a,this.parent2=b},BrackChartMatch.prototype.hasParents=function(){return this.parent1||this.parent2};function BrackChartRound(){this.parent=null,this.matches=[]}BrackChartRound.prototype.setParent=function(a){this.parent=a},BrackChartRound.prototype.createFromData=function(a){var b=0;for(let[f,g]of a.entries()){var c=new BrackChartMatch;if(c.setTeams(g.team1,g.team2),c.setScores(g.score1,g.score2),c.setWinner(g.winner),g.connectsFrom&&null!=this.parent){var d=this.parent.getMatch(2*b),e=this.parent.getMatch(2*b+1);c.setParents(d,e)}c.data=g,this.matches.push(c),g.prev||b++}},BrackChartRound.prototype.getMatch=function(a){return this.matches[a]};